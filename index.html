<!DOCTYPE html>
   <head>
      <meta charset='utf-8'>
      <meta http-equiv="X-UA-Compatible" content="chrome=1">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
      <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
      <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
      <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
<!--Tab Title-->
      <title>Smarter Parking</title>
   </head>
   
<!--Headings-->   
   <body>
      <div class="inner">
      <header>
        <h1>Smarter Parking</h1>
        <h2>Parking has never been easier</h2>
      </div>
      </header>
      
   <div id="content-wrapper">
   <div class="inner clearfix">
   <section id="main-content">
   
      <h3><a name="LEVEL 1 PARKING" class="anchor" ><span class="octicon octicon-link"></span></a> LEVEL 1 PARKING</h3>
      <style>
         table,th,td {
         border:3px solid white;
         }
      </style>
          
      <table>
         <col width="300">
         <tr>
<!--Parking Space 1-->
         <td style="text-align:center" style="width:300px" height="200">1     
            <button type="button" value="Add" name="element" onclick="bookHandling1()"> BOOK </button>
            <canvas id="space1" width="200" height="100"></canvas>
            <form id=book1>
            </form>
         </td>
<!--Middle Space-->   
         <td rowspan="3" style="width:200px"></td>
<!--Parking Space 2-->    
         <td style="text-align:center" style="width:300px" height="200">4     
            <button type="button" onclick="bookHandling()"> BOOK </button>
            <canvas id="space4" width="200" height="100"></canvas>
         </td>
         </tr>

         <tr>
         <td style="text-align:center" style="width:300px" height="200">2     
            <button type="button" onclick="bookHandling()"> BOOK </button>
            <canvas id="space2" width="200" height="100"></canvas>
            </td>
            
            <td style="text-align:center" style="width:300px" height="200">5
               <button type="button" onclick="bookHandling()"> BOOK </button>
               <canvas id="space5" width="200" height="100"></canvas>
            </td>		
          </tr>

          <tr>
            <td style="text-align:center" style="width:300px" height="200">3     
               <button type="button" onclick="bookHandling()"> BOOK </button>
               <canvas id="space3" width="200" height="100"></canvas>
            </td>
            
            <td style="text-align:center" style="width:300px" height="200">6    
               <button type="button" onclick="bookHandling()"> BOOK </button>
               <canvas id="space6" width="200" height="100"></canvas>
            </td>		
          </tr>

      </table>
      </div>
      </div>
    </div>
   
   <script src="js/jquery.js"></script>
   <script src="http://d23cj0cdvyoxg0.cloudfront.net/xivelyjs-1.0.4.min.js"></script>
   
   <script>
      
   $(document).ready(function($) {
  
  var feedID        = 1868918819,  
      datastreamID  = "Sensor1";     
      selector1      = "#myelement1";
      
  xively.setKey( "ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr" );
  
  xively.datastream.get (feedID, datastreamID, function ( datastream ){
    $(selector1).html(datastream["current_value"]);
    xively.datastream.subscribe( feedID, datastreamID, function ( event , datastream_updated ){
        
      if (datastream_updated["current_value"] == '0'){
        var f1=document.getElementById("space1");
        var f1tx=f1.getContext("2d");
            
        f1tx.clearRect(0,0,space1.width,space1.height);
        f1tx.font = "50px Arial";
        f1tx.strokeStyle="rgb(154,205,50)";
        f1tx.strokeText("FREE",36,50);
            
      } else if(datastream_updated["current_value"] == '1') {
        var t1=document.getElementById("space1");
        var t1tx=t1.getContext("2d");
            
        t1tx.clearRect(0,0,space1.width,space1.height);
        t1tx.font = "50px Arial";
        t1tx.strokeStyle="rgb(154,205,50)";
        t1tx.strokeText("TAKEN",36,50);
            
      } else if(datastream_updated["current_value"] == '2'){
        var b1=document.getElementById("space1");
        var b1tx=b1.getContext("2d");
            
        b1tx.clearRect(0,0,space1.width,space1.height);
        b1tx.font = "50px Arial";
        b1tx.strokeStyle="rgb(154,205,50)";
        b1tx.strokeText("BOOKED",36,50);
      };
      
      confirmCode1=function(){
        var enteredC = document.getElementById("codeEnter1").value;
         
        if(datastream_updated["current_value"] == '2'){
          if (enteredC == code1){
            bookToTaken1();
            document.getElementById("bookConfirmed").innerHTML="TY :)";
          }else{
            document.getElementById("bookConfirmed").innerHTML="WRONG CODE :(";
          };
        };
      }
    });
  });
  
  bookHandling1=function(){
    handleBook1();
    creditCode1();
  }
   
   function creditCode1(){
      var creditCard = document.createElement("input");
      
      element.setAttribute("name", type);
      element.setAttribute("value", type);
      
      var cardSpace = document.getElementById("book1");
      
      document.getElementById("book1").innerHTML = "Please enter your credit card number"
      
      cardSpace.appendChild(creditCard);
   }   
   
  function handleBook1(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor1,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
   function handleBook2(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor2,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook3(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor3,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook4(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor4,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook5(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor5,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook6(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor6,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook7(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor7,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook8(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor8,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook9(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor9,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook10(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor10,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook11(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor11,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
   
   function handleBook12(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor12,2',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
   }
      
  function bookToTaken1(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor1,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken2(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor2,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken3(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor3,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken4(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor4,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken5(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor5,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken6(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor6,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken7(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor7,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken8(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor8,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken9(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor9,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken10(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor10,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken11(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor11,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }
  
  function bookToTaken12(){
    $.ajax({
      url: 'https://api.xively.com/v2/feeds/1868918819.csv',
      type: 'PUT',
      data: 'Sensor12,1',
      headers: {'X-ApiKey': 'ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr'}
    });
  }

});

   </script>
 
</body>
</html>
