<!DOCTYPE html>
   <head>
      <meta charset='utf-8'>
      <meta http-equiv="X-UA-Compatible" content="chrome=1">
<!--Tab Title-->
      <title>Smarter Parking</title>
<!--CSS Style-->
      <style>
         html{
            background-image:url('http://imgur.com/XTvu5tk.jpg');
            font-family: Arial, Helvetica, sans-serif;
         }
         body{
            text-align: center;
            color: #fffaf0;
         }
         h1{
            font-family: Arial, Helvetica, sans-serif;
            font-size: 80px;
            color: rgb(41,36,33);
            text-align: center;
         }
         h2{
            font-family: Arial, Helvetica, sans-serif;
            font-size: 50px;
            color: rgb(41,36,33);
            text-align: center;
         }
         h3{
            font-family: Arial, Helvetica, sans-serif;
            font-size: 40px;
            border-style: solid;
            color:rgb(41,36,33);
            border-width: 3px;
            border-color: rgb(41,36,33);
            text-align: center;
         }
         h4{
            font-family: Arial, Helvetica, sans-serif;
            font-size: 38px;
            text-decoration: underline;
            text-align: center;
         }
         
         #content-wrapper, #content-wrapper1{
           background: #000000;
            opacity:0.9; 
         }
         table {
            border:3px solid white;
            margin: 0 auto;
            }
         td, th{
               border: 3px solid white;
            }
         table.level1, table.level2{
            line-height: 2;
         }

      </style>
   </head>
   
<!--Headings-->   
   <body>
      <div class="inner">
      <header>
        <h1>Smarter Parking</h1>
        <h2>Parking has never been easier</h2>
        
        <h3> Number of Free Parking Spaces: <span id="totalSpaces"></span></h2>
      </div>
      </header>
      
   <div id="content-wrapper">
   <div class="inner clearfix">
   <section id="main-content">
   <h4><a name="LEVEL 1 PARKING"></a> LEVEL 1 PARKING</h4>
   
   <table class="level1">
      <tr>
<!--Parking Space 1-->
      <td style="text-align:center">SPACE ①
         <canvas id="space1" width="300" height="100"></canvas>
         <form id=book1>
            Enter Credit Card number to book: <input type="text" id="hello1">
            <button type="button" onclick="checkCredit1()"> SUBMIT </button>
         </form>
         <form id=codeEnter1>
            Already Booked? Enter code here: <input type="text" id=codeE1>
            <button type="button" onclick="confirmCode1()" >SUBMIT</button>
         </form>
      </td>
<!--Middle Space-->  
      <td rowspan="3" width="200"></td>
<!--Parking Space 4-->    
      <td style="text-align:center">SPACE ④    
         <canvas id="space4" width="300" height="100"></canvas>
         <form id=book4>
            Enter Credit Card number to book: <input type="text" id="hello4">
            <button type="button" onclick="checkCredit4()"> SUBMIT </button>
         </form>
         <form id=codeEnter4>
            Already Booked? Enter code here: <input type="text" id=codeE4>
            <button type="button" onclick="confirmCode4()">SUBMIT</button>
         </form>
      </td>
      </tr>
     
      <tr>
<!--Parking Space 2-->
      <td style="text-align:center">SPACE ②
         <canvas id="space2" width="300" height="100"></canvas>
         <form id=book2>
            Enter Credit Card number to book: <input type="text" id="hello2">
            <button type="button" onclick="checkCredit2()"> SUBMIT </button>
         </form>
         <form id=codeEnter2>
            Already Booked? Enter code here: <input type="text" id=codeE2>
            <button type="button" onclick="confirmCode2()">SUBMIT</button>
         </form>
      </td>
<!--Parking Space 5-->    
      <td style="text-align:center">SPACE ⑤
         <canvas id="space5" width="300" height="100"></canvas>
         <form id=book5>
            Enter Credit Card number to book: <input type="text" id="hello5">
            <button type="button" onclick="checkCredit5()"> SUBMIT </button>
         </form>
         <form id=codeEnter5>
            Already Booked? Enter code here: <input type="text" id=codeE5>
            <button type="button" onclick="confirmCode5()">SUBMIT</button>
         </form>
      </td>
      </tr>
     
      <tr>
<!--Parking Space 3-->          
      <td style="text-align:center">SPACE ③
         <canvas id="space3" width="300" height="100"></canvas>
         <form id=book3>
            Enter Credit Card number to book: <input type="text" id="hello3">
            <button type="button" onclick="checkCredit3()"> SUBMIT </button>
         </form>
         <form id=codeEnter3>
            Already Booked? Enter code here: <input type="text" id=codeE3>
            <button type="button" onclick="confirmCode3()">SUBMIT</button>
         </form>
      </td>
<!--Parking Space 6-->    
      <td style="text-align:center">SPACE ⑥ 
         <canvas id="space6" width="300" height="100"></canvas>
         <form id=book6>
            Enter Credit Card number to book: <input type="text" id="hello6">
            <button type="button" onclick="checkCredit6()"> SUBMIT </button>
         </form>
         <form id=codeEnter6>
            Already Booked? Enter code here: <input type="text" id=codeE6>
            <button type="button" onclick="confirmCode6()">SUBMIT</button>
         </form>
      </td>
      </tr>
     
   </table>
   </div>
   </div>
      
   <div id="content-wrapper1">
   <div class="inner clearfix">
   <section id="main-content">
   <h4><a name="LEVEL 2 PARKING"></a> LEVEL 2 PARKING</h4>
   
   <table class="level2">
      <tr>
<!--Parking Space 7-->
      <td style="text-align:center">SPACE ⑦
         <canvas id="space7" width="300" height="100"></canvas>
         <form id=book7>
            Enter Credit Card number to book: <input type="text" id="hello7">
            <button type="button" onclick="checkCredit7()"> SUBMIT </button>
         </form>
         <form id=codeEnter7>
            Already Booked? Enter code here: <input type="text" id=codeE7>
            <button type="button" onclick="confirmCode7()">SUBMIT</button>
         </form>
      </td>
<!--Middle Space-->  
      <td rowspan="3" style="width:200px"></td>
<!--Parking Space 10-->    
      <td style="text-align:center">SPACE ⑩
         <canvas id="space10" width="300" height="100"></canvas>
         <form id=book10>
            Enter Credit Card number to book: <input type="text" id="hello10">
            <button type="button" onclick="checkCredit10()"> SUBMIT </button>
         </form>
         <form id=codeEnter10>
            Already Booked? Enter code here: <input type="text" id=codeE10>
            <button type="button" onclick="confirmCode10()">SUBMIT</button>
         </form>
      </td>
      </tr>
     
      <tr>
<!--Parking Space 8-->
      <td style="text-align:center">SPACE ⑧
         <canvas id="space8" width="300" height="100"></canvas>
         <form id=book8>
            Enter Credit Card number to book: <input type="text" id="hello8">
            <button type="button" onclick="checkCredit8()"> SUBMIT </button>
         </form>
         <form id=codeEnter8>
            Already Booked? Enter code here: <input type="text" id=codeE8>
            <button type="button" onclick="confirmCode8()">SUBMIT</button>
         </form>
      </td>
<!--Parking Space 11-->    
      <td style="text-align:center">SPACE ⑪
         <canvas id="space11" width="300" height="100"></canvas>
         <form id=book11>
            Enter Credit Card number to book: <input type="text" id="hello11">
            <button type="button" onclick="checkCredit11()"> SUBMIT </button>
         </form>
         <form id=codeEnter11>
            Already Booked? Enter code here: <input type="text" id=codeE11>
            <button type="button" onclick="confirmCode11()">SUBMIT</button>
         </form>
      </td>
      </tr>
     
      <tr>
<!--Parking Space 9-->          
      <td style="text-align:center">SPACE ⑨
         <canvas id="space9" width="300" height="100"></canvas>
         <form id=book9>
            Enter Credit Card number to book: <input type="text" id="hello9">
            <button type="button" onclick="checkCredit9()"> SUBMIT </button>
         </form>
         <form id=codeEnter9>
            Already Booked? Enter code here: <input type="text" id=codeE9>
            <button type="button" onclick="confirmCode9()">SUBMIT</button>
         </form>
      </td>
<!--Parking Space 12-->    
      <td style="text-align:center">SPACE ⑫
         <canvas id="space12" width="300" height="100"></canvas>
         <form id=book12>
            Enter Credit Card number to book: <input type="text" id="hello12">
            <button type="button" onclick="checkCredit12()"> SUBMIT </button>
         </form>
         <form id=codeEnter12>
            Already Booked? Enter code here: <input type="text" id=codeE12>
            <button type="button" onclick="confirmCode12()">SUBMIT</button>
         </form>
      </td>
      </tr>
     
   </table>
   </div>
   </div>
   
<!-----------------------------------------------HTML----------------------------------------------------------->

<!-------------------------------------------JAVASCRIPT--------------------------------------------------------->
<script src="js/jquery.js"></script>
<script src="http://d23cj0cdvyoxg0.cloudfront.net/xivelyjs-1.0.4.min.js"></script>

<script>
   $(document).ready(function($) 
   {
//GLOBAL VARIABLES
      var feedID  = 1868918819,  
          API_KEY = "ywafB6MNLUakqggSfAgfrSaQoyRhPsbYbRVfuqVILy5ctgQr";
          datastreamID1 = "Sensor1", datastreamID2 = "Sensor2", datastreamID3 = "Sensor3", datastreamID4 = "Sensor4",
          datastreamID5 = "Sensor5", datastreamID6 = "Sensor6", datastreamID7 = "Sensor7", datastreamID8 = "Sensor8",
          datastreamID9 = "Sensor9", datastreamID10 = "Sensor10", datastreamID11 = "Sensor11", datastreamID12 = "Sensor12",
          API_KEYc = "WpOOQ3ybilqsx42Abq9dbHgv50pr9kijh4iWtLipKRa9CsyL",
          feedIDc = "2041803059",
          sensorURL = "https://api.xively.com/v2/feeds/1868918819.csv",
          codeURL = "https://api.xively.com/v2/feeds/2041803059.csv";
          
      xively.setKey(API_KEY);
  
      var f1=document.getElementById("space1"), f1tx=f1.getContext("2d"), f2=document.getElementById("space2"), f2tx=f2.getContext("2d"),
          f3=document.getElementById("space3"), f3tx=f3.getContext("2d"), f4=document.getElementById("space4"), f4tx=f4.getContext("2d"),
          f5=document.getElementById("space5"), f5tx=f5.getContext("2d"), f6=document.getElementById("space6"), f6tx=f6.getContext("2d"),
          f7=document.getElementById("space7"), f7tx=f7.getContext("2d"), f8=document.getElementById("space8"), f8tx=f8.getContext("2d"),
          f9=document.getElementById("space9"), f9tx=f9.getContext("2d"), f10=document.getElementById("space10"), f10tx=f10.getContext("2d"),
          f11=document.getElementById("space11"), f11tx=f11.getContext("2d"), f12=document.getElementById("space12"), f12tx=f12.getContext("2d");
          
//-------------------------------------------------------------------------------------------------------------          
//NO. OF FREE SPACES
   var selector = "#totalSpaces",
       noFree= 0;
       
   xively.feed.get(feedID, function(data){
      var feed = data,
          datastream,
          value,
          len = feed.datastreams.length,
          x;
          
      for (x = 0; x < len; x++) {
      datastream = feed.datastreams[x];
      value = datastream["current_value"];
         if (value == '0'){
            noFree++;
         }
      }
      
      function worker(){
      $.ajaxSetup ({
         cache: false,
         complete: function(){
            setTimeout(worker,5000);
         }
      });
      };
      var ajax_load = noFree + "/12";
      
      $("selector").html(ajax_load);
   
   });
   
   
   
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 1  
   xively.datastream.get (feedID, datastreamID1, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f1tx.clearRect(0,0,space1.width,space1.height);
         f1tx.font = "50px Arial";
         f1tx.strokeStyle="rgb(154,205,50)";
         f1tx.strokeText("FREE",36,50);
        
      }else if(datastream["current_value"] == '1') {
         f1tx.clearRect(0,0,space1.width,space1.height);
         f1tx.font = "50px Arial";
         f1tx.strokeStyle="rgb(220,20,60)";
         f1tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f1tx.clearRect(0,0,space1.width,space1.height);
         f1tx.font = "50px Arial";
         f1tx.strokeStyle="rgb(154,205,50)";
         f1tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 1
   xively.datastream.subscribe( feedID, datastreamID1, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f1tx.clearRect(0,0,space1.width,space1.height);
         f1tx.font = "50px Arial";
         f1tx.strokeStyle="rgb(154,205,50)";
         f1tx.strokeText("FREE",36,50);
        
      }else if(datastream_updated["current_value"] == '1') {
         f1tx.clearRect(0,0,space1.width,space1.height);
         f1tx.font = "50px Arial";
         f1tx.strokeStyle="rgb(220,20,60)";
         f1tx.strokeText("TAKEN",36,50); 
           
      }else if(datastream_updated["current_value"] == '2'){
         f1tx.clearRect(0,0,space1.width,space1.height);
         f1tx.font = "50px Arial";
         f1tx.strokeStyle="rgb(154,205,50)";
         f1tx.strokeText("BOOKED",36,50);
      }
   });
   });      
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 2  
   xively.datastream.get (feedID, datastreamID2, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f2tx.clearRect(0,0,space2.width,space2.height);
         f2tx.font = "50px Arial";
         f2tx.strokeStyle="rgb(154,205,50)";
         f2tx.strokeText("FREE",36,50);
         
      }else if(datastream["current_value"] == '1') {
         f2tx.clearRect(0,0,space2.width,space2.height);
         f2tx.font = "50px Arial";
         f2tx.strokeStyle="rgb(220,20,60)";
         f2tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f2tx.clearRect(0,0,space2.width,space2.height);
         f2tx.font = "50px Arial";
         f2tx.strokeStyle="rgb(154,205,50)";
         f2tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 2
   xively.datastream.subscribe( feedID, datastreamID2, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f2tx.clearRect(0,0,space2.width,space2.height);
         f2tx.font = "50px Arial";
         f2tx.strokeStyle="rgb(154,205,50)";
         f2tx.strokeText("FREE",36,50);
        
      }else if(datastream_updated["current_value"] == '1') {
         f2tx.clearRect(0,0,space2.width,space2.height);
         f2tx.font = "50px Arial";
         f2tx.strokeStyle="rgb(220,20,60)";
         f2tx.strokeText("TAKEN",36,50);  
       
           
      }else if(datastream_updated["current_value"] == '2'){
         f2tx.clearRect(0,0,space2.width,space2.height);
         f2tx.font = "50px Arial";
         f2tx.strokeStyle="rgb(154,205,50)";
         f2tx.strokeText("BOOKED",36,50);
       
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 3
   xively.datastream.get (feedID, datastreamID3, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f3tx.clearRect(0,0,space3.width,space3.height);
         f3tx.font = "50px Arial";
         f3tx.strokeStyle="rgb(154,205,50)";
         f3tx.strokeText("FREE",36,50);
         
         
        
      }else if(datastream["current_value"] == '1') {
         f3tx.clearRect(0,0,space3.width,space3.height);
         f3tx.font = "50px Arial";
         f3tx.strokeStyle="rgb(220,20,60)";
         f3tx.strokeText("TAKEN",36,50);
    
           
      }else if(datastream["current_value"] == '2'){
         f3tx.clearRect(0,0,space3.width,space3.height);
         f3tx.font = "50px Arial";
         f3tx.strokeStyle="rgb(154,205,50)";
         f3tx.strokeText("BOOKED",36,50);
 
     };
//UPDATE STATUS DISPLAY FOR SPACE 3
   xively.datastream.subscribe( feedID, datastreamID3, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f3tx.clearRect(0,0,space3.width,space3.height);
         f3tx.font = "50px Arial";
         f3tx.strokeStyle="rgb(154,205,50)";
         f3tx.strokeText("FREE",36,50);
      
        
      }else if(datastream_updated["current_value"] == '1') {
         f3tx.clearRect(0,0,space3.width,space3.height);
         f3tx.font = "50px Arial";
         f3tx.strokeStyle="rgb(220,20,60)";
         f3tx.strokeText("TAKEN",36,50); 
     
           
      }else if(datastream_updated["current_value"] == '2'){
         f3tx.clearRect(0,0,space3.width,space3.height);
         f3tx.font = "50px Arial";
         f3tx.strokeStyle="rgb(154,205,50)";
         f3tx.strokeText("BOOKED",36,50);
      
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 4
   xively.datastream.get (feedID, datastreamID4, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f4tx.clearRect(0,0,space4.width,space4.height);
         f4tx.font = "50px Arial";
         f4tx.strokeStyle="rgb(154,205,50)";
         f4tx.strokeText("FREE",36,50);
       
        
      }else if(datastream["current_value"] == '1') {
         f4tx.clearRect(0,0,space4.width,space4.height);
         f4tx.font = "50px Arial";
         f4tx.strokeStyle="rgb(220,20,60)";
         f4tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f4tx.clearRect(0,0,space4.width,space4.height);
         f4tx.font = "50px Arial";
         f4tx.strokeStyle="rgb(154,205,50)";
         f4tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 4
   xively.datastream.subscribe( feedID, datastreamID4, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f4tx.clearRect(0,0,space4.width,space4.height);
         f4tx.font = "50px Arial";
         f4tx.strokeStyle="rgb(154,205,50)";
         f4tx.strokeText("FREE",36,50);

        
      }else if(datastream_updated["current_value"] == '1') {
         f4tx.clearRect(0,0,space4.width,space4.height);
         f4tx.font = "50px Arial";
         f4tx.strokeStyle="rgb(220,20,60)";
         f4tx.strokeText("TAKEN",36,50); 
         
           
      }else if(datastream_updated["current_value"] == '2'){
         f4tx.clearRect(0,0,space4.width,space4.height);
         f4tx.font = "50px Arial";
         f4tx.strokeStyle="rgb(154,205,50)";
         f4tx.strokeText("BOOKED",36,50);
      
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 5
   xively.datastream.get (feedID, datastreamID5, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f5tx.clearRect(0,0,space5.width,space5.height);
         f5tx.font = "50px Arial";
         f5tx.strokeStyle="rgb(154,205,50)";
         f5tx.strokeText("FREE",36,50);
       
        
      }else if(datastream["current_value"] == '1') {
         f5tx.clearRect(0,0,space5.width,space5.height);
         f5tx.font = "50px Arial";
         f5tx.strokeStyle="rgb(220,20,60)";
         f5tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f5tx.clearRect(0,0,space5.width,space5.height);
         f5tx.font = "50px Arial";
         f5tx.strokeStyle="rgb(154,205,50)";
         f5tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 5
   xively.datastream.subscribe( feedID, datastreamID5, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f5tx.clearRect(0,0,space5.width,space5.height);
         f5tx.font = "50px Arial";
         f5tx.strokeStyle="rgb(154,205,50)";
         f5tx.strokeText("FREE",36,50);
      
        
      }else if(datastream_updated["current_value"] == '1') {
         f5tx.clearRect(0,0,space5.width,space5.height);
         f5tx.font = "50px Arial";
         f5tx.strokeStyle="rgb(220,20,60)";
         f5tx.strokeText("TAKEN",36,50); 
    
           
      }else if(datastream_updated["current_value"] == '2'){
         f5tx.clearRect(0,0,space5.width,space5.height);
         f5tx.font = "50px Arial";
         f5tx.strokeStyle="rgb(154,205,50)";
         f5tx.strokeText("BOOKED",36,50);
        
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 6
   xively.datastream.get (feedID, datastreamID6, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f6tx.clearRect(0,0,space3.width,space3.height);
         f6tx.font = "50px Arial";
         f6tx.strokeStyle="rgb(154,205,50)";
         f6tx.strokeText("FREE",36,50);
        
        
      }else if(datastream["current_value"] == '1') {
         f6tx.clearRect(0,0,space3.width,space3.height);
         f6tx.font = "50px Arial";
         f6tx.strokeStyle="rgb(220,20,60)";
         f6tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f6tx.clearRect(0,0,space3.width,space3.height);
         f6tx.font = "50px Arial";
         f6tx.strokeStyle="rgb(154,205,50)";
         f6tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 6
   xively.datastream.subscribe( feedID, datastreamID6, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f6tx.clearRect(0,0,space3.width,space3.height);
         f6tx.font = "50px Arial";
         f6tx.strokeStyle="rgb(154,205,50)";
         f6tx.strokeText("FREE",36,50);
      
        
      }else if(datastream_updated["current_value"] == '1') {
         f6tx.clearRect(0,0,space3.width,space3.height);
         f6tx.font = "50px Arial";
         f6tx.strokeStyle="rgb(220,20,60)";
         f6tx.strokeText("TAKEN",36,50); 
        
           
      }else if(datastream_updated["current_value"] == '2'){
         f6tx.clearRect(0,0,space3.width,space3.height);
         f6tx.font = "50px Arial";
         f6tx.strokeStyle="rgb(154,205,50)";
         f6tx.strokeText("BOOKED",36,50);
        
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 7
   xively.datastream.get (feedID, datastreamID7, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f7tx.clearRect(0,0,space3.width,space3.height);
         f7tx.font = "50px Arial";
         f7tx.strokeStyle="rgb(154,205,50)";
         f7tx.strokeText("FREE",36,50);
    
        
      }else if(datastream["current_value"] == '1') {
         f7tx.clearRect(0,0,space3.width,space3.height);
         f7tx.font = "50px Arial";
         f7tx.strokeStyle="rgb(220,20,60)";
         f7tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f7tx.clearRect(0,0,space3.width,space3.height);
         f7tx.font = "50px Arial";
         f7tx.strokeStyle="rgb(154,205,50)";
         f7tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 7
   xively.datastream.subscribe( feedID, datastreamID7, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f7tx.clearRect(0,0,space3.width,space3.height);
         f7tx.font = "50px Arial";
         f7tx.strokeStyle="rgb(154,205,50)";
         f7tx.strokeText("FREE",36,50);
     
       
      }else if(datastream_updated["current_value"] == '1') {
         f7tx.clearRect(0,0,space3.width,space3.height);
         f7tx.font = "50px Arial";
         f7tx.strokeStyle="rgb(220,20,60)";
         f7tx.strokeText("TAKEN",36,50);  
         
           
      }else if(datastream_updated["current_value"] == '2'){
         f7tx.clearRect(0,0,space3.width,space3.height);
         f7tx.font = "50px Arial";
         f7tx.strokeStyle="rgb(154,205,50)";
         f7tx.strokeText("BOOKED",36,50);
       
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 8
   xively.datastream.get (feedID, datastreamID8, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f8tx.clearRect(0,0,space3.width,space3.height);
         f8tx.font = "50px Arial";
         f8tx.strokeStyle="rgb(154,205,50)";
         f8tx.strokeText("FREE",36,50);
       
        
      }else if(datastream["current_value"] == '1') {
         f8tx.clearRect(0,0,space3.width,space3.height);
         f8tx.font = "50px Arial";
         f8tx.strokeStyle="rgb(220,20,60)";
         f8tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f8tx.clearRect(0,0,space3.width,space3.height);
         f8tx.font = "50px Arial";
         f8tx.strokeStyle="rgb(154,205,50)";
         f8tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 8
   xively.datastream.subscribe( feedID, datastreamID8, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f8tx.clearRect(0,0,space3.width,space3.height);
         f8tx.font = "50px Arial";
         f8tx.strokeStyle="rgb(154,205,50)";
         f8tx.strokeText("FREE",36,50);
       
        
      }else if(datastream_updated["current_value"] == '1') {
         f8tx.clearRect(0,0,space3.width,space3.height);
         f8tx.font = "50px Arial";
         f8tx.strokeStyle="rgb(220,20,60)";
         f8tx.strokeText("TAKEN",36,50); 
         
           
      }else if(datastream_updated["current_value"] == '2'){
         f8tx.clearRect(0,0,space3.width,space3.height);
         f8tx.font = "50px Arial";
         f8tx.strokeStyle="rgb(154,205,50)";
         f8tx.strokeText("BOOKED",36,50);
        
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 9
   xively.datastream.get (feedID, datastreamID9, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f9tx.clearRect(0,0,space3.width,space3.height);
         f9tx.font = "50px Arial";
         f9tx.strokeStyle="rgb(154,205,50)";
         f9tx.strokeText("FREE",36,50);
      
        
      }else if(datastream["current_value"] == '1') {
         f9tx.clearRect(0,0,space3.width,space3.height);
         f9tx.font = "50px Arial";
         f9tx.strokeStyle="rgb(220,20,60)";
         f9tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f9tx.clearRect(0,0,space3.width,space3.height);
         f9tx.font = "50px Arial";
         f9tx.strokeStyle="rgb(154,205,50)";
         f9tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 9
   xively.datastream.subscribe( feedID, datastreamID9, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f9tx.clearRect(0,0,space3.width,space3.height);
         f9tx.font = "50px Arial";
         f9tx.strokeStyle="rgb(154,205,50)";
         f9tx.strokeText("FREE",36,50);
    
        
      }else if(datastream_updated["current_value"] == '1') {
         f9tx.clearRect(0,0,space3.width,space3.height);
         f9tx.font = "50px Arial";
         f9tx.strokeStyle="rgb(220,20,60)";
         f9tx.strokeText("TAKEN",36,50);
        
           
      }else if(datastream_updated["current_value"] == '2'){
         f9tx.clearRect(0,0,space3.width,space3.height);
         f9tx.font = "50px Arial";
         f9tx.strokeStyle="rgb(154,205,50)";
         f9tx.strokeText("BOOKED",36,50);
     
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 10
   xively.datastream.get (feedID, datastreamID10, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f10tx.clearRect(0,0,space3.width,space3.height);
         f10tx.font = "50px Arial";
         f10tx.strokeStyle="rgb(154,205,50)";
         f10tx.strokeText("FREE",36,50);
       
        
      }else if(datastream["current_value"] == '1') {
         f10tx.clearRect(0,0,space3.width,space3.height);
         f10tx.font = "50px Arial";
         f10tx.strokeStyle="rgb(220,20,60)";
         f10tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f10tx.clearRect(0,0,space3.width,space3.height);
         f10tx.font = "50px Arial";
         f10tx.strokeStyle="rgb(154,205,50)";
         f10tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 10
   xively.datastream.subscribe( feedID, datastreamID10, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f10tx.clearRect(0,0,space3.width,space3.height);
         f10tx.font = "50px Arial";
         f10tx.strokeStyle="rgb(154,205,50)";
         f10tx.strokeText("FREE",36,50);
         
        
      }else if(datastream_updated["current_value"] == '1') {
         f10tx.clearRect(0,0,space3.width,space3.height);
         f10tx.font = "50px Arial";
         f10tx.strokeStyle="rgb(220,20,60)";
         f10tx.strokeText("TAKEN",36,50);
     
           
      }else if(datastream_updated["current_value"] == '2'){
         f10tx.clearRect(0,0,space3.width,space3.height);
         f10tx.font = "50px Arial";
         f10tx.strokeStyle="rgb(154,205,50)";
         f10tx.strokeText("BOOKED",36,50);
        
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 11
   xively.datastream.get (feedID, datastreamID11, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f11tx.clearRect(0,0,space3.width,space3.height);
         f11tx.font = "50px Arial";
         f11tx.strokeStyle="rgb(154,205,50)";
         f11tx.strokeText("FREE",36,50);
         
        
      }else if(datastream["current_value"] == '1') {
         f11tx.clearRect(0,0,space3.width,space3.height);
         f11tx.font = "50px Arial";
         f11tx.strokeStyle="rgb(220,20,60)";
         f11tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f11tx.clearRect(0,0,space3.width,space3.height);
         f11tx.font = "50px Arial";
         f11tx.strokeStyle="rgb(154,205,50)";
         f11tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 11
   xively.datastream.subscribe( feedID, datastreamID11, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f11tx.clearRect(0,0,space3.width,space3.height);
         f11tx.font = "50px Arial";
         f11tx.strokeStyle="rgb(154,205,50)";
         f11tx.strokeText("FREE",36,50);
       
        
      }else if(datastream_updated["current_value"] == '1') {
         f11tx.clearRect(0,0,space3.width,space3.height);
         f11tx.font = "50px Arial";
         f11tx.strokeStyle="rgb(220,20,60)";
         f11tx.strokeText("TAKEN",36,50);
       
           
      }else if(datastream_updated["current_value"] == '2'){
         f11tx.clearRect(0,0,space3.width,space3.height);
         f11tx.font = "50px Arial";
         f11tx.strokeStyle="rgb(154,205,50)";
         f11tx.strokeText("BOOKED",36,50);
        
      }
   });
   });
//-------------------------------------------------------------------------------------------------------------
//STATUS DISPLAY FOR SPACE 12
   xively.datastream.get (feedID, datastreamID12, function ( datastream ){
      if (datastream["current_value"] == '0'){
         f12tx.clearRect(0,0,space3.width,space3.height);
         f12tx.font = "50px Arial";
         f12tx.strokeStyle="rgb(154,205,50)";
         f12tx.strokeText("FREE",36,50);
        
        
      }else if(datastream["current_value"] == '1') {
         f12tx.clearRect(0,0,space3.width,space3.height);
         f12tx.font = "50px Arial";
         f12tx.strokeStyle="rgb(220,20,60)";
         f12tx.strokeText("TAKEN",36,50);
           
      }else if(datastream["current_value"] == '2'){
         f12tx.clearRect(0,0,space3.width,space3.height);
         f12tx.font = "50px Arial";
         f12tx.strokeStyle="rgb(154,205,50)";
         f12tx.strokeText("BOOKED",36,50);
     };
//UPDATE STATUS DISPLAY FOR SPACE 12
   xively.datastream.subscribe( feedID, datastreamID12, function ( event , datastream_updated ){
      if (datastream_updated["current_value"] == '0'){
         f12tx.clearRect(0,0,space3.width,space3.height);
         f12tx.font = "50px Arial";
         f12tx.strokeStyle="rgb(154,205,50)";
         f12tx.strokeText("FREE",36,50);
         
        
      }else if(datastream_updated["current_value"] == '1') {
         f12tx.clearRect(0,0,space3.width,space3.height);
         f12tx.font = "50px Arial";
         f12tx.strokeStyle="rgb(220,20,60)";
         f12tx.strokeText("TAKEN",36,50);
        
           
      }else if(datastream_updated["current_value"] == '2'){
         f12tx.clearRect(0,0,space3.width,space3.height);
         f12tx.font = "50px Arial";
         f12tx.strokeStyle="rgb(154,205,50)";
         f12tx.strokeText("BOOKED",36,50);
        
      }
   });
   });
   
//-------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------

//SPACE 1 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING
   checkCredit1=function(){
      var enteredC1 = document.getElementById("hello1").value;
      var bookCode1 = enteredC1.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID1, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book1").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book1").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code1", "datapoints" : [ {"at" : timestamp, "value" : bookCode1} ] } ]};
               
            if (!isNaN(enteredC1)){
               if (enteredC1.length == 16){
                  document.getElementById("book1").innerHTML = "thank";
                  handleBook1()
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book1").innerHTML = "Your booking code is:" + bookCode1;
               } else {
                  document.getElementById("book1").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book1").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 2 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING
   checkCredit2=function(){
      var enteredC2 = document.getElementById("hello2").value;
      var bookCode2 = enteredC2.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID2, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book2").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book2").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code2", "datapoints" : [ {"at" : timestamp, "value" : bookCode2} ] } ]};
               
            if (!isNaN(enteredC2)){
               if (enteredC2.length == 16){
                  document.getElementById("book2").innerHTML = "thanks";
                  handleBook2();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book2").innerHTML = "Your booking code is:" + bookCode2;
               } else {
                  document.getElementById("book2").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book2").innerHTML = "invalid";
            }
         }
      });
   }

//-------------------------------------------------------------------------------------------------------------
//SPACE 3 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit3=function(){
      var enteredC3 = document.getElementById("hello3").value;
      var bookCode3 = enteredC3.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID3, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book3").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book3").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code3", "datapoints" : [ {"at" : timestamp, "value" : bookCode3} ] } ]};
               
            if (!isNaN(enteredC3)){
               if (enteredC3.length == 16){
                  document.getElementById("book3").innerHTML = "thanks";
                  handleBook3();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book3").innerHTML = "Your booking code is:" + bookCode3;
               } else {
                  document.getElementById("book3").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book3").innerHTML = "invalid";
            }
         }
      });
   }

//-------------------------------------------------------------------------------------------------------------
//SPACE 4 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit4=function(){
      var enteredC4 = document.getElementById("hello4").value;
      var bookCode4 = enteredC4.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID4, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book4").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book4").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code4", "datapoints" : [ {"at" : timestamp, "value" : bookCode4} ] } ]};
               
            if (!isNaN(enteredC4)){
               if (enteredC4.length == 16){
                  document.getElementById("book4").innerHTML = "thanks";
                  handleBook4();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book4").innerHTML = "Your booking code is:" + bookCode4;
               } else {
                  document.getElementById("book4").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book4").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 5 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING
   checkCredit5=function(){
      var enteredC5 = document.getElementById("hello5").value;
      var bookCode5 = enteredC5.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID5, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book5").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book5").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code5", "datapoints" : [ {"at" : timestamp, "value" : bookCode5} ] } ]};
               
            if (!isNaN(enteredC5)){
               if (enteredC5.length == 16){
                  document.getElementById("book5").innerHTML = "thanks";
                  handleBook5();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book5").innerHTML = "Your booking code is:" + bookCode5;
               } else {
                  document.getElementById("book5").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book5").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 6 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit6=function(){
      var enteredC6 = document.getElementById("hello6").value;
      var bookCode6 = enteredC6.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID6, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book6").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book6").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code6", "datapoints" : [ {"at" : timestamp, "value" : bookCode6} ] } ]};
               
            if (!isNaN(enteredC6)){
               if (enteredC6.length == 16){
                  document.getElementById("book6").innerHTML = "thanks";
                  handleBook6();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book6").innerHTML = "Your booking code is:" + bookCode6;
               } else {
                  document.getElementById("book6").innerHTML = "nope";
               }
            }else{
               document.getElementById("book6").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 7 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit7=function(){
      var enteredC7 = document.getElementById("hello7").value;
      var bookCode7 = enteredC7.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID7, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book7").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book7").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code7", "datapoints" : [ {"at" : timestamp, "value" : bookCode7} ] } ]};
               
            if (!isNaN(enteredC7)){
               if (enteredC7.length == 16){
                  document.getElementById("book7").innerHTML = "thanks";
                  handleBook7();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book7").innerHTML = "Your booking code is:" + bookCode7;
               } else {
                  document.getElementById("book7").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book7").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 8 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit8=function(){
      var enteredC8 = document.getElementById("hello8").value;
      var bookCode8 = enteredC8.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID8, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book8").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book8").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code8", "datapoints" : [ {"at" : timestamp, "value" : bookCode8} ] } ]};
               
            if (!isNaN(enteredC8)){
               if (enteredC8.length == 16){
                  document.getElementById("book8").innerHTML = "thanks";
                  handleBook8();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book8").innerHTML = "Your booking code is:" + bookCode8;
               } else {
                  document.getElementById("book8").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book8").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 9 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit9=function(){
      var enteredC9 = document.getElementById("hello9").value;
      var bookCode9 = enteredC9.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID9, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book9").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book9").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code9", "datapoints" : [ {"at" : timestamp, "value" : bookCode9} ] } ]};
               
            if (!isNaN(enteredC9)){
               if (enteredC9.length == 16){
                  document.getElementById("book9").innerHTML = "thanks";
                  handleBook9();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book9").innerHTML = "Your booking code is:" + bookCode9;
               } else {
                  document.getElementById("book9").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book9").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 10 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit10=function(){
      var enteredC10 = document.getElementById("hello10").value;
      var bookCode10 = enteredC10.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID10, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book10").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book10").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code10", "datapoints" : [ {"at" : timestamp, "value" : bookCode10} ] } ]};
               
            if (!isNaN(enteredC10)){
               if (enteredC10.length == 16){
                  document.getElementById("book10").innerHTML = "thanks";
                  handleBook10();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book10").innerHTML = "Your booking code is:" + bookCode10;
               } else {
                  document.getElementById("book10").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book10").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 11 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit11=function(){
      var enteredC11 = document.getElementById("hello11").value;
      var bookCode11 = enteredC11.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID11, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book11").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book11").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code11", "datapoints" : [ {"at" : timestamp, "value" : bookCode11} ] } ]};
               
            if (!isNaN(enteredC11)){
               if (enteredC11.length == 16){
                  document.getElementById("book11").innerHTML = "thanks";
                  handleBook11();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book11").innerHTML = "Your booking code is:" + bookCode11;
               } else {
                  document.getElementById("book11").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book11").innerHTML = "invalid";
            }
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//SPACE 12 CARD VALIDATION, CODE SAVE AND HANDLE BOOKING 
   checkCredit12=function(){
      var enteredC12 = document.getElementById("hello12").value;
      var bookCode12 = enteredC12.substring(16, 12);
      
      xively.setKey(API_KEY);
      xively.datastream.get (feedID, datastreamID12, function ( datastream ){
         if (datastream["current_value"]=='1'){
            document.getElementById("book12").innerHTML = "sorry this spot is already taken";
         }else if (datastream["current_value"]=='2'){
            document.getElementById("book12").innerHTML = "sorry this spot is already booked";
         }else{
      
            xively.setKey(API_KEYc);
            var timestamp = new Date().toISOString();
            var data = { "version" : "1.0.0",
                  "datastreams" : [
                  { "id" : "code12", "datapoints" : [ {"at" : timestamp, "value" : bookCode12} ] } ]};
               
            if (!isNaN(enteredC12)){
               if (enteredC12.length == 16){
                  document.getElementById("book12").innerHTML = "thanks";
                  handleBook12();
                  xively.feed.update(feedIDc, data, function(data){});
                  document.getElementById("book12").innerHTML = "Your booking code is:" + bookCode12;
               } else {
                  document.getElementById("book12").innerHTML = "nope";
               }
            }else{
               document.getElemenById("book12").innerHTML = "invalid";
            }
         }
      });
   }

//-------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 1
   confirmCode1=function(){
      var enteredCC1 = document.getElementById("codeE1").value,
          datastreamcID1 = "code1";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID1, function ( datastream ){
         if (datastream["current_value"] === enteredCC1){
            document.getElementById("codeEnter1").innerHTML = "thank you very much";
            bookToTaken1();
            clearCode1();
         }else{
            document.getElementById("codeEnter1").innerHTML = "entered wrong code, please try again";
         }
      });
   }
   
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 2
   confirmCode2=function(){
      var enteredCC2 = document.getElementById("codeE2").value,
          datastreamcID2 = "code2";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID2, function ( datastream ){
         if (datastream["current_value"] === enteredCC2){
            document.getElementById("codeEnter2").innerHTML = "thank you very much";
            bookToTaken2();
            clearCode2();
         }else{
            document.getElementById("codeEnter2").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 3
   confirmCode3=function(){
      var enteredCC3 = document.getElementById("codeE3").value,
          datastreamcID3 = "code3";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID3, function ( datastream ){
         if (datastream["current_value"] === enteredCC3){
            document.getElementById("codeEnter3").innerHTML = "thank you very much";
            bookToTaken3();
            clearCode3();
         }else{
            document.getElementById("codeEnter3").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 4
   confirmCode4=function(){
      var enteredCC4 = document.getElementById("codeE4").value,
          datastreamcID4 = "code4";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID4, function ( datastream ){
         if (datastream["current_value"] === enteredCC4){
            document.getElementById("codeEnter4").innerHTML = "thank you very much";
            bookToTaken4();
            clearCode4();
         }else{
            document.getElementById("codeEnter4").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 5
   confirmCode5=function(){
      var enteredCC5 = document.getElementById("codeE5").value,
          datastreamcID5 = "code5";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID5, function ( datastream ){
         if (datastream["current_value"] === enteredCC5){
            document.getElementById("codeEnter5").innerHTML = "thank you very much";
            bookToTaken5();
            clearCode5();
         }else{
            document.getElementById("codeEnter5").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 6
   confirmCode6=function(){
      var enteredCC6 = document.getElementById("codeE6").value,
          datastreamcID6 = "code6";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID6, function ( datastream ){
         if (datastream["current_value"] === enteredCC6){
            document.getElementById("codeEnter6").innerHTML = "thank you very much";
            bookToTaken6();
            clearCode6();
         }else{
            document.getElementById("codeEnter6").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 7
   confirmCode7=function(){
      var enteredCC7 = document.getElementById("codeE7").value,
          datastreamcID7 = "code7";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID7, function ( datastream ){
         if (datastream["current_value"] === enteredCC7){
            document.getElementById("codeEnter7").innerHTML = "thank you very much";
            bookToTaken7();
            clearCode7();
         }else{
            document.getElementById("codeEnter7").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 8
   confirmCode8=function(){
      var enteredCC8 = document.getElementById("codeE8").value,
          datastreamcID8 = "code8";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID8, function ( datastream ){
         if (datastream["current_value"] === enteredCC8){
            document.getElementById("codeEnter8").innerHTML = "thank you very much";
            bookToTaken8();
            clearCode8();
         }else{
            document.getElementById("codeEnter8").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 9
   confirmCode9=function(){
      var enteredCC9 = document.getElementById("codeE9").value,
          datastreamcID9 = "code9";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID9, function ( datastream ){
         if (datastream["current_value"] === enteredCC9){
            document.getElementById("codeEnter9").innerHTML = "thank you very much";
            bookToTaken9();
            clearCode9();
         }else{
            document.getElementById("codeEnter9").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 10
   confirmCode10=function(){
      var enteredCC10 = document.getElementById("codeE10").value,
          datastreamcID10 = "code10";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID10, function ( datastream ){
         if (datastream["current_value"] === enteredCC10){
            document.getElementById("codeEnter10").innerHTML = "thank you very much";
            bookToTaken10();
            clearCode10();
         }else{
            document.getElementById("codeEnter10").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 11
   confirmCode11=function(){
      var enteredCC11 = document.getElementById("codeE11").value,
          datastreamcID11 = "code11";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID11, function ( datastream ){
         if (datastream["current_value"] === enteredCC11){
            document.getElementById("codeEnter11").innerHTML = "thank you very much";
            bookToTaken11();
            clearCode11();
         }else{
            document.getElementById("codeEnter11").innerHTML = "entered wrong code, please try again";
         }
      });
   }
//-------------------------------------------------------------------------------------------------------------
//CONFIRMING THE ENTERED CODE FOR SPACE 12
   confirmCode12=function(){
      var enteredCC12 = document.getElementById("codeE12").value,
          datastreamcID12 = "code12";
      
      xively.setKey(API_KEYc);
      xively.datastream.get (feedIDc, datastreamcID12, function ( datastream ){
         if (datastream["current_value"] === enteredCC12){
            document.getElementById("codeEnter12").innerHTML = "thank you very much";
            bookToTaken12();
            clearCode12();
         }else{
            document.getElementById("codeEnter12").innerHTML = "entered wrong code, please try again";
         }
      });
   }
   
//-------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------   
//FUNCTIONS FOR HANDLING SPACE 1
   function handleBook1(){
      $.ajax({
         url: sensorURL,
         type: 'PUT',
         data: 'Sensor1,2',
         headers: {'X-ApiKey': API_KEY}
      });
   }
  
   function bookToTaken1(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor1,1',
      headers: {'X-ApiKey': API_KEY}
    });
    
  }
  
  function clearCode1(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code1,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
  
//FUNCTIONS FOR HANDLING SPACE 2  
   function handleBook2(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor2,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken2(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor2,1',
      headers: {'X-ApiKey': API_KEY}
    });
  }
  
  function clearCode2(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code2,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
//FUNCTIONS FOR HANDLING SPACE 3   
   function handleBook3(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor3,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken3(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor3,1',
      headers: {'X-ApiKey': API_KEY}
    });
    
  }
  
  function clearCode3(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code3,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
 //FUNCTIONS FOR HANDLING SPACE 4 
   function handleBook4(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor4,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken4(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor4,1',
      headers: {'X-ApiKey': API_KEY}
    });
  
  }
  
  function clearCode4(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code4,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
//FUNCTIONS FOR HANDLING SPACE 5   
   function handleBook5(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor5,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken5(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor5,1',
      headers: {'X-ApiKey': API_KEY}
    });
    
  }
  
  function clearCode5(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code5,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
//FUNCTIONS FOR HANDLING SPACE 6   
   function handleBook6(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor6,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken6(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor6,1',
      headers: {'X-ApiKey': API_KEY}
    });
   
  }
  
  function clearCode6(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code6,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
//FUNCTIONS FOR HANDLING SPACE 7   
   function handleBook7(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor7,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken7(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor7,1',
      headers: {'X-ApiKey': API_KEY}
    });
   
  }
  
  function clearCode7(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code7,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
//FUNCTIONS FOR HANDLING SPACE 8   
   function handleBook8(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor8,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken8(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor8,1',
      headers: {'X-ApiKey': API_KEY}
    });
   
  }
  
  function clearCode8(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code8,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
//FUNCTIONS FOR HANDLING SPACE 9   
   function handleBook9(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor9,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken9(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor9,1',
      headers: {'X-ApiKey': API_KEY}
    });
    
  }
  
  function clearCode9(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code9,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
   
//FUNCTIONS FOR HANDLING SPACE 10   
   function handleBook10(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor10,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken10(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor10,1',
      headers: {'X-ApiKey': API_KEY}
    });
   
  }
  
  function clearCode10(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code10,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
  
//FUNCTIONS FOR HANDLING SPACE 11  
   function handleBook11(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor11,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken11(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor11,1',
      headers: {'X-ApiKey': API_KEY}
    });
    
  }
  
  function clearCode11(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code11,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
//FUNCTIONS FOR HANDLING SPACE 12 
   function handleBook12(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor12,2',
      headers: {'X-ApiKey': API_KEY}
    });
   }
   
   function bookToTaken12(){
    $.ajax({
      url: sensorURL,
      type: 'PUT',
      data: 'Sensor12,1',
      headers: {'X-ApiKey': API_KEY}
    });
   
  }
  
  function clearCode12(){
     $.ajax({
      url: codeURL,
      type: 'PUT',
      data: 'code12,0',
      headers: {'X-ApiKey': API_KEYc}
    });
  }
});
</script>
</body>
</html>
